(function(){jQuery("#wpbody").on("click",".export-global",function(c){c.preventDefault();({logDiv:"",init:function(a,b){this.nonce=b.attr("data-nonce");this.initMessageSection();this.launchEvent()},initMessageSection:function(){this.logDiv=jQuery("<div/>").addClass("metabox-holder has-right-sidebar").append(jQuery("<div/>").addClass("stuffbox").append(jQuery("<h3/>").append(jQuery("<label/>").html("Log file creation"))).append(jQuery("<div/>").addClass("inside logBlock")));jQuery(".log").html(this.logDiv)},
	launchEvent:function(){var a=this;jQuery.ajax({url:ajaxurl,dataType:"json",type:"POST",data:{action:"bea_sender_launch_cron",nonce:a.nonce},beforeSend:function(){a.setMessage("message","Request to create the file.")},success:function(b){a.setMessage("success",b.message);if(0==b.status)return!1;a.setMessage("message","Checking if the lock file exists");a.getCheckFile()}})},setMessage:function(a,b){var c=jQuery('<div class="ui-state-highlight ui-corner-all" style="margin-top: 20px; padding: 0 .7em;"><p><span class="ui-icon ui-icon-info" style="float: left; margin-right: .3em;"></span><strong> '+
	a+" :</strong> "+b+"</p></div>");jQuery(this.logDiv).find(".inside").append(c)},getCheckFile:function(){var a=this;jQuery.ajax({url:ajaxurl,dataType:"json",type:"POST",data:{action:"bea_sender_get_check_file",nonce:a.nonce},success:function(b){if(0==b.status)return a.setMessage("error",b.message),!1;if(0==b.finished)return window.setTimeout(function(){a.getCheckFile()},2E3),a.setMessage("success",b.message),!1;a.setMessage("success",b.message)}})}}).init(c,jQuery(this))})})();